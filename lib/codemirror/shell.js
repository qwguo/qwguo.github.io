"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){e.defineMode("shell",function(){function t(e,t){for(var n=0;n<t.length;n++)s[t[n]]=e}function n(e,t){if(e.eatSpace())return null;var n=e.sol(),o=e.next();if("\\"===o)return e.next(),null;if("'"===o||'"'===o||"`"===o)return t.tokens.unshift(r(o,"`"===o?"quote":"string")),i(e,t);if("#"===o)return n&&e.eat("!")?(e.skipToEnd(),"meta"):(e.skipToEnd(),"comment");if("$"===o)return t.tokens.unshift(c),i(e,t);if("+"===o||"="===o)return"operator";if("-"===o)return e.eat("-"),e.eatWhile(/\w/),"attribute";if(/\d/.test(o)&&(e.eatWhile(/\d/),e.eol()||!/\w/.test(e.peek())))return"number";e.eatWhile(/[\w-]/);var f=e.current();return"="===e.peek()&&/\w+/.test(f)?"def":s.hasOwnProperty(f)?s[f]:null}function r(e,t){var n="("==e?")":"{"==e?"}":e;return function(s,f){for(var u,l=!1;null!=(u=s.next());){if(u===n&&!l){f.tokens.shift();break}if("$"===u&&!l&&"'"!==e&&s.peek()!=n){l=!0,s.backUp(1),f.tokens.unshift(c);break}if(!l&&e!==n&&u===e)return f.tokens.unshift(r(e,t)),i(s,f);if(!l&&/['"]/.test(u)&&!/['"]/.test(e)){f.tokens.unshift(o(u,"string")),s.backUp(1);break}l=!l&&"\\"===u}return t}}function o(e,t){return function(n,o){return o.tokens[0]=r(e,t),n.next(),i(n,o)}}function i(e,t){return(t.tokens[0]||n)(e,t)}var s={},f=["true","false"],u=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],l=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];e.registerHelper("hintWords","shell",f.concat(u,l)),t("atom",f),t("keyword",u),t("builtin",l);var c=function(e,t){t.tokens.length>1&&e.eat("$");var n=e.next();return/['"({]/.test(n)?(t.tokens[0]=r(n,"("==n?"quote":"{"==n?"def":"string"),i(e,t)):(/\d/.test(n)||e.eatWhile(/\w/),t.tokens.shift(),"def")};return{startState:function(){return{tokens:[]}},token:function(e,t){return i(e,t)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),e.defineMIME("text/x-sh","shell"),e.defineMIME("application/x-sh","shell")});